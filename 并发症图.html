<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <title>并发症分组条形图</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="echarts.min.js"></script>
  <style>
    #main { width: 900px; height: 600px; margin: 40px auto; }
  </style>
</head>
<body>
  <div id="main"></div>
  <script>
    var chart = echarts.init(document.getElementById('main'));
    var option = {
      tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
      legend: { top: 10, data: ['肥胖', '超重', '正常BMI'] },
      grid: { left: 170, right: 40, top: 50, bottom: 40 },
      dataset: {
        source: [
          // 并发症, 肥胖, 超重, 正常BMI
          // 下面数据请用Excel整理后粘贴
          ['糖尿病（ADA）', 14.6, 9.2, 5.2],
          ['糖尿病（WHO）', 7.6, 4.5, 2.3],
          ['前驱糖尿病（ADA）', 36.9, 30.7, 23.0],
          ['前驱糖尿病（WHO）', 8.1, 5.2, 2.8],
          ['慢性肾脏病（任一分期）', 6.3, 4.1, 3.7],
          ['高血压', 36.9, 20.7, 11.2],
          ['胆石症', 5.0, 3.8, 2.7],
          ['脂肪肝', 81.8, 49.0, 13.3],
          ['颈动脉斑块', 17.3, 15.8, 14.3],
          ['高尿酸血症', 21.1, 12.8, 6.3],
          ['血脂异常', 42.4, 31.3, 16.9]
        ]
      },
      xAxis: {
        type: 'value',
        max: 100,
        axisLabel: { formatter: '{value}%' }
      },
      yAxis: {
        type: 'category'
      },
      series: [
        { type: 'bar', name: '肥胖', label: { show: true, position: 'right', formatter: function(params){return params.value[1]+'%';} }, itemStyle: { color: '#d35400' } },
        { type: 'bar', name: '超重', label: { show: true, position: 'right', formatter: function(params){return params.value[2]+'%';} }, itemStyle: { color: '#b8860b' } },
        { type: 'bar', name: '正常BMI', label: { show: true, position: 'right', formatter: function(params){return params.value[3]+'%';} }, itemStyle: { color: '#8bc34a' } }
      ]
    };
    chart.setOption(option);
  </script>
</body>
</html>
